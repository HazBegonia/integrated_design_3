<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>路线查询</title>
<style>
    body {
        font-family: Arial, sans-serif;
        padding: 20px;
    }
    .form-group {
        margin-bottom: 15px;
    }
</style>
</head>
<body>
    <h2>路线查询</h2>
    <div class="form-group">
        <label for="start">起始位置:</label>
        <input type="text" id="start" required>
    </div>
    <div class="form-group">
        <label for="end">结束位置:</label>
        <input type="text" id="end" required>
    </div>
    <div class="form-group">
        <label>交通方式:</label><br>
        <input type="radio" id="driving" name="travelMode" value="driving" checked>
        <label for="driving">驾车</label><br>
        <input type="radio" id="walking" name="travelMode" value="walking">
        <label for="walking">步行</label><br>
        <input type="radio" id="bicycling" name="travelMode" value="bicycling">
        <label for="bicycling">骑行</label>
    </div>
    <div class="form-group">
        <label>路线优先:</label><br>
        <input type="radio" id="fastest" name="routePreference" value="fastest" checked>
        <label for="fastest">时间最快</label><br>
        <input type="radio" id="shortest" name="routePreference" value="shortest">
        <label for="shortest">路程最短</label>
    </div>
    <div class="form-group">
        <input type="checkbox" id="highways" name="highways">
        <label for="highways">上高速</label>
    </div>
    <button onclick="redirectToRoute()">查询路线</button>

    <script>
        function redirectToRoute() {
            var start = document.getElementById('start').value;
            var end = document.getElementById('end').value;
            var travelMode = document.querySelector('input[name="travelMode"]:checked').value;
            var routePreference = document.querySelector('input[name="routePreference"]:checked').value;
            var useHighways = document.getElementById('highways').checked;

            // Construct the URL with query parameters
            var url = 'http://127.0.0.1:8000/TR/' + encodeURIComponent(start) + '/' + encodeURIComponent(end);

            // Append other parameters to the URL
            url += '/' + travelMode;
            url += '/' + routePreference;
            url += '/' + (useHighways === false? 1: 0);

            // Redirect to the constructed URL
            window.location.href = url;
        }
    </script>
</body>
</html>
